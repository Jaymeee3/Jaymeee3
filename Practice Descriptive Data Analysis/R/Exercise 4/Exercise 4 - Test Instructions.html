<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Instructions</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      background-color: #ffffff;
      display: flex;
      justify-content: center;
    }

    .container {
      max-width: 900px;
      padding: 30px;
      margin: 40px auto;
      text-align: left;
    }

    ul, ol {
      padding-left: 20px;
    }

    li {
      margin-bottom: 10px;
    }

    pre {
      background-color: #f8f9fa;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow-x: auto;
      font-family: Consolas, monospace;
      font-size: 14px;
      text-align: left;
      margin-top: 10px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">

    <p>
      The test consists of several tasks—complete as many as possible. <br>
      Complete the R section in an Rmarkdown file.Submit the compiled Rmarkdown file in HTML format.
    </p>

    <h3 style="color: darkblue;">Task Information:</h3>
    <ul>
      <li>Some tasks may depend on the results of previous ones;</li>
      <li>Copy the number and text of each task before solving it, to clearly indicate which task is being addressed;</li>
      <li>The code must be commented, as the interpretation of results is subject to evaluation. Comments are also useful because, even if the expected results are not achieved, it will still be possible to assess how close the solution was.</li>
    </ul>

    <h3 style="color: darkblue;">R Section – Task List</h3>
    <ol>
      <li>Import the dataset <code>MoviesOnStreamingPlatforms.csv</code> (Note: the separator is a comma), which contains information about movies and TV series available on various streaming platforms (see metadata). Create a copy of the dataset named <code>movies</code>.</li>

      <li>Clean up the dataset before working with it. Rewrite the last two pieces of code into a single block using the tidyverse programming paradigm (i.e., using <code>mutate</code> and <code>pipelines</code>) and run it. If you're unable to do that, just run the provided code as it is.</li>

      <pre><code># names(movies) = str_to_lower(names(movies))

### rewrite the code from here: ###
# movies$rotten.tomatoes = str_replace(movies$rotten.tomatoes, '/100', '')
# 
# movies = movies %>% rename(review_score = rotten.tomatoes,
#                            prime_video = prime.video,
#                            disney_plus = disney.) %>%
#   select(-x)
</code></pre>

      <li>Check that the nature of the imported variables has been correctly identified and explain which ones may require type casting.</li>

      <li>The variables <code>netflix</code>, <code>hulu</code>, <code>prime_video</code>, and <code>disney_plus</code> indicate whether a movie is available on the corresponding platform. Create a new variable <code>platform_sum</code> that counts how many platforms each movie is available on.</li>

      <li>Graphically display the new variable <code>platform_sum</code> and comment on it.</li>

      <li>Extract the titles of the 8 movies that are available on the most platforms.</li>

      <li>It is assumed that whether or not a movie is available on Netflix (<code>netflix</code>) affects the review score (<code>review_score</code>, previously called <code>rotten.tomatoes</code>). Represent the relationship between the variables and comment (Hint: the <code>netflix</code> variable can be treated as categorical).</li>

      <li>Try to replicate the visualization for movies rated 16+ and produced before 2018 (<code>age</code> and <code>year</code>). Comment.</li>
    </ol>


  </div>
</body>
</html>
